---
layout: post
title: Smallest C++ windowed application
---

Interesting to see <a href="http://gregs-blog.com/2008/02/20/directx-9-c-graphics-tutorial-1-getting-started/">this</a> is the smallest windowed Windows application:<br /><br /><pre class="brush: cpp">#include &lt;windows.h&gt; <br /><br />LRESULT WINAPI WndProc(HWND hwnd, UINT msg, WPARAM wParam, LPARAM lParam); <br /><br />int WINAPI WinMain(HINSTANCE hInstance, HINSTANCE hPrevInst, LPSTR lpCmdLine, int nShow)<br />{<br />    MSG msg;<br /><br />    WNDCLASSEX wc = {sizeof(WNDCLASSEX), CS_VREDRAW|CS_HREDRAW|CS_OWNDC, <br />    WndProc, 0, 0, hInstance, NULL, NULL, (HBRUSH)(COLOR_WINDOW+1), <br />    NULL, L"DX9_TUTORIAL1_CLASS", NULL}; <br /><br />    RegisterClassEx(&wc);<br /><br />    HWND hMainWnd = CreateWindow(L"DX9_TUTORIAL1_CLASS", <br />    L"DirectX 9 Bare Bones Tutorial 1", <br />    WS_OVERLAPPEDWINDOW, 100, 100, 300, 300, <br />    NULL, NULL, hInstance, NULL);<br />    ShowWindow(hMainWnd, nShow);<br />    UpdateWindow(hMainWnd);<br /><br />    while(GetMessage(&msg, NULL, 0, 0))<br />    {<br />        TranslateMessage(&msg);<br />        DispatchMessage(&msg);<br />    }<br /><br />    return(0);<br />} <br /><br />LRESULT WINAPI WndProc(HWND hwnd, UINT msg, WPARAM wParam, LPARAM lParam)<br />{<br />    switch(msg)<br />    {<br />        case WM_DESTROY:<br />        PostQuitMessage(0);<br />        return(0);<br />    }<br /><br />    return(DefWindowProc(hwnd, msg, wParam, lParam));<br />}<br /></pre>
