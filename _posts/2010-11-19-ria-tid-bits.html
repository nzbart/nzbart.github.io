---
layout: post
title: RIA tid-bits
---

<b>Server side:</b><br />DomainService (with [EnableClientAccess])<br /><br />[ServiceOperation] for generic operations<br /><br />[Query] or Get...(args); returning T, IEnumerable<t> or IQueryable<t><br />Use HasSideEffects = true to send query as post.<br />[Insert] or Insert...(args)<br />[Update] or Update...(args)<br />[Delete] or Delete...(args)<br />Resolve is used for optimistic concurrency resolution.<br />[Custom] methods return void and take an entity as the first parameter but is not one of the above. They are change tracked etc.<br />[ServiceOperation] are more like web methods.<br /><br />Entities may inherit from entity, but must have a key if used in an IEnumerable collection.<br /><br />[Include] is used to link classes together, for example Job and JobNotes. This will ensure the code generator will copy JobNotes to the client project. This can also be used for data denormalisation on the Job class's metadata class:<br />[Include("NoteDateTime", "DateTime")]<br />public JobNotes JobNotes; <br />This will result in a new property on the Job class on the client called NoteDateTime and only serialise the DateTime of the job note, not the detail.<br /><br />[MetadataType] can be used to specify another class whose attributes are merged with the main class. Attributes on properties in the metadata class are merged with those on the main class. This is useful for modifying the attributes on compiler generated code through partial classes.<br /><br /><b>Client side:</b><br />Perform linq operations to filter (if required) the query, using the query as IEnumerable, then use the DomainContext's Load methods to load the data asynchronously.<br /><br /><b>DataGrid / DataForm / FieldLabel:</b><br />[Bindable] specifies whether a property is bindable or not.<br />[Display(Name, Description)]<br /><br />Validation:<br />[StringLength]<br />[Required]<br />[Range]<br />[RegularExpression]<br />[CustomValidation]<br />[DataType]<br />Custom validation attributes can be made by deriving from ValidationAttribute.<br /><br />Authorisation:<br />[RequiresAuthentication]<br /><br /><b>Shared code:</b><br />Code file should be called <i>xxxxx</i>.shared.cs, then use [Shared].<br />Use [CustomValidation] for validation code (see <a href="http://blogs.microsoft.co.il/blogs/bursteg/archive/2009/04/14/net-ria-services-custom-validation.aspx">this</a>).<br /><br />A useful application of shared code is to add a partial class that extends the functionality of a generated class, i.e. to add a new calculated property. This class will then be copied to the client and the calculated property will be in both client and server code.<br /><br /><b>More detail:</b><br />See <a href="http://msdn.microsoft.com/en-us/magazine/dd695920.aspx">this page</a>.
